(()=>{"use strict";var e={862:(e,t,s)=>{e.exports=s.p+"70b86524e51744f35789.ico"},366:(e,t,s)=>{e.exports=s.p+"c2fc95356945a2723bfc.svg"},402:(e,t,s)=>{e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.p="",(()=>{class e{constructor(e,t){this._formElement=t,this._config=e}_showInputError(e,t){const s=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._config.errorClass),s.textContent=t,s.classList.add(this._config.inputErrorClass)}_hideInputError(e){const t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._config.errorClass),t.classList.remove(this._config.inputErrorClass),t.textContent=""}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._config.inactiveButtonClass))}_checkInputValidity(e){e.addEventListener("input",function(){this._toggleButtonState(),e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}.bind(this))}_setEventListeners(){this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector),this._inputList.forEach((e=>{this._checkInputValidity(e)}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._setEventListeners(),this._formElement.addEventListener("submit",(function(e){e.preventDefault()}))}}class t{constructor(e,t,s,i,r,o){this._handleCardClick=s,this._handleCardDelete=i,this._handleCardLike=r,this.userId=o,this.cardOwnerId=e.owner._id,this.cardId=e._id,this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardTemplate=document.querySelector(t).content,this._cardElement=this._cardTemplate.querySelector(".card").cloneNode(!0),this._cardLikesCount=this._cardElement.querySelector(".card__like-counter"),this._cardLike=this._cardElement.querySelector(".card__like")}_setEventListeners(){this._cardLike.addEventListener("click",(()=>this._handleCardLike(this))),null!=this._cardDeleteElm&&this._cardDeleteElm.addEventListener("click",(()=>this._handleCardDelete(this))),this._cardImgElm.addEventListener("click",(()=>{const e={link:this._cardImgElm.src,name:this._cardImgElm.alt};this._handleCardClick(e)}))}removeCard(){this._cardElement.remove(),this._cardElement=null}isLiked(){return this._likes.some((e=>e._id===this.userId))}toggleLike(e){this.isLiked()?this._cardLike.classList.remove("btn-like_state_active"):this._cardLike.classList.add("btn-like_state_active"),this._likes=e,this._cardLikesCount.textContent=this._likes.length}createCard(){const e=this._cardElement.querySelector(".card__name");return this._cardImgElm=this._cardElement.querySelector(".card__img"),this._cardDeleteElm=this._cardElement.querySelector(".card__delete-card"),e.textContent=this._name,this._cardLikesCount.textContent=this._likes.length,this._cardImgElm.setAttribute("src",this._link),this._cardImgElm.setAttribute("alt",this._name),this._likes.forEach((e=>{e._id===this.userId&&this._cardLike.classList.add("btn-like_state_active")})),this.cardOwnerId!=this.userId&&(this._cardDeleteElm.remove(),this._cardDeleteElm=null),this._setEventListeners(),this._cardElement}}const i={loadingBlueUrl:s(366),headerLogoURL:s(402),faviconURL:s(862)},r={inputSelector:".popup__input",submitButtonSelector:".popup__btn-submit",inactiveButtonClass:"popup__btn-submit_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class n{constructor(e){o(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),o(this,"_handleClose",(e=>{const t=e.target.classList;(t.contains("overlay__btn-close")||t.contains("overlay"))&&(e.stopPropagation(),this.close())})),this._popup=document.querySelector(e),this.close=this.close.bind(this)}open(){this._popup.classList.add("overlay_visible"),this.setEventListeners()}close(){this._popup.classList.remove("overlay_visible"),this._popup.removeEventListener("mousedown",this._handleClose),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",this._handleClose),document.addEventListener("keydown",this._handleEscClose)}}class a extends n{constructor(e,t){super(e),this._submitHandler=t,this._form=this._popup.querySelector(".form"),this._handleSubmit=this._handleSubmit.bind(this),this._submitButton=this._popup.querySelector(".popup__btn-submit"),console.log(e),this._submitButtonTextBeforeLoading=this._submitButton.textContent}_getInputValues(){return this._inputValues={},this._inputsList=[...this._form.querySelectorAll(".popup__input")],this._inputsList.forEach((e=>this._inputValues[e.name]=e.value)),this._inputValues}setEventListeners(){this._form.addEventListener("submit",this._handleSubmit),super.setEventListeners()}setAction(e){this._submitHandler=e}_setLoading(){this._submitButton.textContent+="...",this._submitButton.disabled=!0}resetLoading(){this._submitButton.textContent=this._submitButtonTextBeforeLoading,this._submitButton.disabled=!1}_handleSubmit(e){e.preventDefault(),this._setLoading(),this._submitHandler(this._getInputValues())}close(){this._form.removeEventListener("submit",this._handleSubmit),this._form.reset(),super.close(),this.resetLoading()}}class l{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._container=document.querySelector(t)}render(){this._items.forEach((e=>this._renderer(e)))}addItem(e){null!=e&&this._container.prepend(e)}}const c=new class{constructor(e){let{baseUrl:t,headers:s}=e;var i,r;r=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject(e.statusText))),(i="customFetch")in this?Object.defineProperty(this,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[i]=r,this._baseUrl=t,this._headers={headers:s}}getUserInfo(){return this.customFetch("".concat(this._baseUrl,"/users/me"),this._headers)}getInitialCards(){return this.customFetch("".concat(this._baseUrl,"/cards"),this._headers)}createNewCard(e){return this.customFetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers.headers,body:JSON.stringify(e)})}setProfileInfo(e){const t={name:e.profileName,about:e.profileTitle,avatar:e.profileAvatar};return this.customFetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers.headers,body:JSON.stringify(t)})}deleteCard(e){return this.customFetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers.headers})}addLike(e){return this.customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers.headers})}removeLike(e){return this.customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers.headers})}setAvatar(e){return this.customFetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers.headers,body:JSON.stringify(e)})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"89275f46-d96a-420c-9a94-a2948b040a2e","Content-Type":"application/json"}}),d={profileInfo:{profileName:".profile__name",profileTitle:".profile__title",profileAvatar:".profile__avatar"},profileForm:{form:"#formProfile",profileName:"#profileName",profileTitle:"#profileTitle",profileAvatarImage:"#avatarImage"},overlayImage:"#overlayImage",cardList:".cards",cardTemplate:"#card",cardForm:"#formCard",profileAvatarForm:"#formProfileAvatar",popupConfirmAction:"#popupConfirmAction",popupWithMessage:"#popupWithMessage"},h=document.querySelector(d.profileForm.form),u=document.querySelector(d.profileAvatarForm),_=document.querySelector(d.profileForm.profileName),p=document.querySelector(d.profileForm.profileTitle),m=new class{constructor(e){this._profileName=document.querySelector(e.profileName),this._profileTitle=document.querySelector(e.profileTitle),this._avatar=document.querySelector(e.profileAvatar),this.userId}getUserInfo(){return{profileName:this._profileName.textContent,profileTitle:this._profileTitle.textContent}}setUserInfo(e){let{profileName:t,profileTitle:s}=e;this._profileName.textContent=t,this._profileTitle.textContent=s}getUserAvatar(){return{profileName:this._profileName.textContent,profileTitle:this._profileTitle.textContent}}setUserAvatar(e){this._avatar.src=e}}(d.profileInfo),f=document.querySelector(d.cardForm);let v,b=document.querySelector("#cardsLoading");const L=new class extends n{constructor(e){var t,s;super(e),s=()=>{this._submit.removeEventListener("click",this.handleClick),this.close()},(t="handleClick")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._title=this._popup.querySelector(".popup__lbl-title"),this._subtext=this._popup.querySelector(".popup__lbl-subtext"),this._submit=this._popup.querySelector(".popup__btn-submit")}open(e){let{title:t,subtext:s}=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._title.style.color="red",this._subtext.style.color="red"),this._title.textContent=t,this._subtext.textContent=s,this._setEventListeners(),super.open()}_setEventListeners(){this._submit.addEventListener("click",this.handleClick)}}(d.popupWithMessage),g=new a(d.popupConfirmAction),E=new class extends n{constructor(e){super(e),this._popupImage=this._popup.querySelector(".overlay__img"),this._title=this._popup.querySelector(".overlay__text")}open(e){let{name:t,link:s}=e;this._popupImage.src=s,this._popupImage.alt=t,this._title.textContent=t,super.open()}}(d.overlayImage),y=new a(d.cardForm,(e=>{c.createNewCard(e).then((e=>{q(e),y.close()})).catch((e=>{w(e,"Failed to get response from server"),y.resetLoading()}))})),C=new a(d.profileForm.form,(e=>{c.setProfileInfo(e).then((()=>{m.setUserInfo(e),C.close()})).catch((e=>{w(e,"Failed to get response from server"),C.resetLoading()}))})),k=new a(d.profileAvatarForm,(e=>{c.setAvatar(e).then((()=>{m.setUserAvatar(e.avatar),k.close()})).catch((e=>{w(e,"Failed to update"),k.resetLoading()}))})),I=new e(r,f),S=new e(r,h),x=new e(r,u);function q(e){v.addItem(new t(e,d.cardTemplate,T,U,A,m.userId).createCard(m.userId))}function T(e){E.open(e)}function U(e){g.open(),g.setAction((()=>{c.deleteCard(e.cardId).then((()=>{e.removeCard(),g.close()})).catch((e=>{w(e,"Failed to delete card"),g.resetLoading()}))}))}function A(e){e.isLiked()?c.removeLike(e.cardId).then((t=>e.toggleLike(t.likes))).catch((e=>{w(e,"Failed to remove Like")})):c.addLike(e.cardId).then((t=>e.toggleLike(t.likes))).catch((e=>{w(e,"Failed to add a like")}))}function w(e,t){""==e&&(e=t),L.open({title:"Error occurs",subtext:e},!0)}S.enableValidation(),I.enableValidation(),x.enableValidation(),Promise.all([c.getUserInfo(),c.getInitialCards()]).then((e=>{let[t,s]=e;m.userId=t._id;const i={profileName:t.name,profileTitle:t.about,avatar:t.avatar};m.setUserInfo(i),m.setUserAvatar(i.avatar),b.remove(),b=null,v=new l({items:s,renderer:q},d.cardList),v.render()})).catch((e=>{w(e,"Failed to get card & user info")})),function(){const e=document.querySelector("#profileAvatar"),t=document.querySelector("#headerLogo"),s=document.querySelector("#favicon"),{loadingBlueUrl:r,headerLogoURL:o,faviconURL:n}=i;e.src=r,t.src=o,b.src=r,s.href=n}(),document.querySelector(".profile__edit-info").addEventListener("click",(function(){!function(e){console.log(d);const{profileName:t,profileTitle:s}=e;_.value=t,p.value=s}(m.getUserInfo()),S.resetValidation(),C.open()})),document.querySelector(".profile__add").addEventListener("click",(()=>{I.resetValidation(),y.open()})),document.querySelector("#profileAvatarEdit").addEventListener("click",(()=>{x.resetValidation(),k.open()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MkIzSyxrQkFDM0J3SyxFQUFnQi9HLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LTgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcHJvamVjdC04L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnRcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWdcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH07XHJcblxyXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudClcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gICAgY29uc3RydWN0b3IoY2FyZERhdGEsIHNlbGVjdG9yLCBjYXJkQ2xpY2ssIGNhcmREZWxldGUsIGNhcmRMaWtlLCB1c2VySWQpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gY2FyZENsaWNrXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBjYXJkRGVsZXRlXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlID0gY2FyZExpa2VcblxuXG4gICAgICAgIHRoaXMudXNlcklkID0gdXNlcklkXG4gICAgICAgIHRoaXMuY2FyZE93bmVySWQgPSBjYXJkRGF0YS5vd25lci5faWRcbiAgICAgICAgdGhpcy5jYXJkSWQgPSBjYXJkRGF0YS5faWRcblxuICAgICAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZVxuICAgICAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGlua1xuICAgICAgICB0aGlzLl9saWtlcyA9IGNhcmREYXRhLmxpa2VzXG4gICAgICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLmNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuX2NhcmRMaWtlc0NvdW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIilcbiAgICAgICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIilcbiAgICB9XG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzKSlcblxuICAgICAgICBpZiAodGhpcy5fY2FyZERlbGV0ZUVsbSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkRGVsZXRlRWxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKHRoaXMpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FyZEltZ0VsbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgbGluazogdGhpcy5fY2FyZEltZ0VsbS5zcmMsIG5hbWU6IHRoaXMuX2NhcmRJbWdFbG0uYWx0IH1cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayhkYXRhKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbW92ZUNhcmQoKSB7XG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNMaWtlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUobGlrZSA9PiBsaWtlLl9pZCA9PT0gdGhpcy51c2VySWQpXG4gICAgfVxuXG4gICAgdG9nZ2xlTGlrZShsaWtlc1Jlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LnJlbW92ZShcImJ0bi1saWtlX3N0YXRlX2FjdGl2ZVwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZChcImJ0bi1saWtlX3N0YXRlX2FjdGl2ZVwiKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpa2VzID0gbGlrZXNSZXNwb25zZVxuICAgICAgICB0aGlzLl9jYXJkTGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aFxuICAgIH1cbiAgICBjcmVhdGVDYXJkKCkge1xuICAgICAgICBjb25zdCBjYXJkTmFtZUVsbSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbmFtZVwiKVxuICAgICAgICB0aGlzLl9jYXJkSW1nRWxtID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWdcIilcbiAgICAgICAgdGhpcy5fY2FyZERlbGV0ZUVsbSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWNhcmRcIilcblxuICAgICAgICBjYXJkTmFtZUVsbS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWVcbiAgICAgICAgdGhpcy5fY2FyZExpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGhcbiAgICAgICAgdGhpcy5fY2FyZEltZ0VsbS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5fbGluaylcbiAgICAgICAgdGhpcy5fY2FyZEltZ0VsbS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgdGhpcy5fbmFtZSlcblxuICAgICAgICB0aGlzLl9saWtlcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgICAgICAgaWYgKGNhcmQuX2lkID09PSB0aGlzLnVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRMaWtlLmNsYXNzTGlzdC5hZGQoXCJidG4tbGlrZV9zdGF0ZV9hY3RpdmVcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZSBidXR0b24gZnJvbSBjYXJkcyB0aGF0IGlzIG5vdCBiZWxvbmdzIHRvIHRoZSB1c2VyXG4gICAgICAgIGlmICh0aGlzLmNhcmRPd25lcklkICE9IHRoaXMudXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkRGVsZXRlRWxtLnJlbW92ZSgpXG4gICAgICAgICAgICB0aGlzLl9jYXJkRGVsZXRlRWxtID0gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudFxuICAgIH1cblxufSIsImltcG9ydCBsb2FkaW5nQmx1ZVVybCBmcm9tIFwiLi4vLi4vaW1nL2xvYWRpbmcvbG9hZGluZ0JsdWUuc3ZnXCI7XHJcbmltcG9ydCBoZWFkZXJMb2dvVVJMIGZyb20gXCIuLi8uLi9pbWcvbG9nby9sb2dvLnN2Z1wiO1xyXG5pbXBvcnQgZmF2aWNvblVSTCBmcm9tIFwiLi4vLi4vaW1nL2Zhdmljb24vZmF2aWNvbi5pY29cIlxyXG5cclxuZXhwb3J0IGNvbnN0IGluZGV4SW1hZ2VVcmxzID0ge1xyXG4gICAgXCJsb2FkaW5nQmx1ZVVybFwiOiBsb2FkaW5nQmx1ZVVybCxcclxuICAgIFwiaGVhZGVyTG9nb1VSTFwiOiBoZWFkZXJMb2dvVVJMLFxyXG4gICAgXCJmYXZpY29uVVJMXCI6IGZhdmljb25VUkxcclxufVxyXG5cclxuXHJcblxyXG4vLyBDb25maWdzXHJcbmV4cG9ydCBjb25zdCBmb3JtQ29uZmlnSW5kZXggPSB7XHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnRuLXN1Ym1pdFwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnRuLXN1Ym1pdF9pbmFjdGl2ZVwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuXHJcblxyXG4vLyBpbmRleCBTZWxlY3RvcnNcclxuXHJcbmV4cG9ydCBjb25zdCBpbmRleFNlbGVjdG9ycyA9IHtcclxuICAgIHByb2ZpbGVJbmZvOiB7XHJcbiAgICAgICAgcHJvZmlsZU5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgICAgICBwcm9maWxlVGl0bGU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgICAgICAgcHJvZmlsZUF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCJcclxuICAgIH0sXHJcblxyXG4gICAgcHJvZmlsZUZvcm06IHtcclxuICAgICAgICBmb3JtOiAnI2Zvcm1Qcm9maWxlJyxcclxuICAgICAgICBwcm9maWxlTmFtZTogXCIjcHJvZmlsZU5hbWVcIixcclxuICAgICAgICBwcm9maWxlVGl0bGU6IFwiI3Byb2ZpbGVUaXRsZVwiLFxyXG4gICAgICAgIHByb2ZpbGVBdmF0YXJJbWFnZTogXCIjYXZhdGFySW1hZ2VcIlxyXG4gICAgfSxcclxuXHJcbiAgICBvdmVybGF5SW1hZ2U6IFwiI292ZXJsYXlJbWFnZVwiLFxyXG4gICAgY2FyZExpc3Q6IFwiLmNhcmRzXCIsXHJcbiAgICBjYXJkVGVtcGxhdGU6IFwiI2NhcmRcIixcclxuICAgIGNhcmRGb3JtOiAnI2Zvcm1DYXJkJyxcclxuXHJcbiAgICBwcm9maWxlQXZhdGFyRm9ybTogJyNmb3JtUHJvZmlsZUF2YXRhcicsXHJcbiAgICBwb3B1cENvbmZpcm1BY3Rpb246IFwiI3BvcHVwQ29uZmlybUFjdGlvblwiLFxyXG4gICAgcG9wdXBXaXRoTWVzc2FnZTogXCIjcG9wdXBXaXRoTWVzc2FnZVwiLFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5X3Zpc2libGVcIilcclxuICAgICAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKClcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJsYXlfdmlzaWJsZVwiKVxyXG4gICAgICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xvc2UpXHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZSkgPT4ge1xyXG5cclxuICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlQ2xvc2UgPSAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsbUNsYXNzTGlzdCA9IGUudGFyZ2V0LmNsYXNzTGlzdDtcclxuICAgICAgICBpZiAoZWxtQ2xhc3NMaXN0LmNvbnRhaW5zKFwib3ZlcmxheV9fYnRuLWNsb3NlXCIpIHx8IGVsbUNsYXNzTGlzdC5jb250YWlucyhcIm92ZXJsYXlcIikpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbG9zZSlcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyXHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKVxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnRuLXN1Ym1pdFwiKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhwb3B1cFNlbGVjdG9yKVxyXG5cclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0QmVmb3JlTG9hZGluZyA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudFxyXG4gICAgfVxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge31cclxuICAgICAgICB0aGlzLl9pbnB1dHNMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIildXHJcbiAgICAgICAgdGhpcy5faW5wdXRzTGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzXHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdClcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBhY3Rpb25cclxuICAgIH1cclxuXHJcbiAgICBfc2V0TG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgKz0gXCIuLi5cIlxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRMb2FkaW5nKCkge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHRCZWZvcmVMb2FkaW5nXHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9oYW5kbGVTdWJtaXQoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIHRoaXMuX3NldExvYWRpbmcoKVxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXQpXHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG5cclxuICAgICAgICBzdXBlci5jbG9zZSgpXHJcbiAgICAgICAgdGhpcy5yZXNldExvYWRpbmcoKTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50ICE9PSBudWxsICYmIGVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSIsImNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsXHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IHsgXCJoZWFkZXJzXCI6IGhlYWRlcnMgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjdXN0b21GZXRjaCA9ICh1cmwsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHRoaXMuX2hlYWRlcnMpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHRoaXMuX2hlYWRlcnMpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU5ld0NhcmQoZGF0YSkge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2V0UHJvZmlsZUluZm8oZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJPYmogPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGRhdGEucHJvZmlsZU5hbWUsXHJcbiAgICAgICAgICAgIGFib3V0OiBkYXRhLnByb2ZpbGVUaXRsZSxcclxuICAgICAgICAgICAgYXZhdGFyOiBkYXRhLnByb2ZpbGVBdmF0YXJcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJPYmopXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdmF0YXIobGluaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMuaGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobGluaylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiODkyNzVmNDYtZDk2YS00MjBjLTlhOTQtYTI5NDhiMDQwYTJlXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH1cclxufSk7IiwiLy8gIGltcG9ydHNcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgZm9ybUNvbmZpZ0luZGV4LCBpbmRleEltYWdlVXJscywgaW5kZXhTZWxlY3RvcnMgfSBmcm9tIFwiLi4vc3JjL3V0aWxzL2NvbnN0YW50cy5qc1wiXHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aE1lc3NhZ2UgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aE1lc3NhZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qc1wiXHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzXCJcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0FwaS5qc1wiXHJcbmltcG9ydCAnLi9pbmRleC5jc3MnXHJcblxyXG5jb25zdCBzZWxlY3RvcnMgPSBpbmRleFNlbGVjdG9yc1xyXG4gICAgLy8gUHJvZmlsZSB2YXJpYWJsZXNcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wcm9maWxlRm9ybS5mb3JtKVxyXG5jb25zdCBwcm9maWxlQXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnByb2ZpbGVBdmF0YXJGb3JtKVxyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnByb2ZpbGVGb3JtLnByb2ZpbGVOYW1lKVxyXG5jb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wcm9maWxlRm9ybS5wcm9maWxlVGl0bGUpXHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhzZWxlY3RvcnMucHJvZmlsZUluZm8pXHJcblxyXG4vLyAgQ2FyZCB2YXJpYWJsZXNcclxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5jYXJkRm9ybSlcclxubGV0IGNhcmRzTG9hZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZHNMb2FkaW5nXCIpO1xyXG5sZXQgY2FyZExpc3RTZWN0aW9uO1xyXG5cclxuLy8gIFBvcHVwc1xyXG5jb25zdCBwb3B1cFdpdGhNZXNzYWdlID0gbmV3IFBvcHVwV2l0aE1lc3NhZ2Uoc2VsZWN0b3JzLnBvcHVwV2l0aE1lc3NhZ2UpXHJcbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5wb3B1cENvbmZpcm1BY3Rpb24pXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHNlbGVjdG9ycy5vdmVybGF5SW1hZ2UpXHJcblxyXG5cclxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oc2VsZWN0b3JzLmNhcmRGb3JtLCBkYXRhID0+IHtcclxuICAgIGFwaS5jcmVhdGVOZXdDYXJkKGRhdGEpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBhZGRDYXJkKHJlcylcclxuICAgICAgICAgICAgcG9wdXBBZGRDYXJkLmNsb3NlKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgaGFuZGxlRm9ybUVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBnZXQgcmVzcG9uc2UgZnJvbSBzZXJ2ZXJcIilcclxuICAgICAgICAgICAgcG9wdXBBZGRDYXJkLnJlc2V0TG9hZGluZygpXHJcbiAgICAgICAgfSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucHJvZmlsZUZvcm0uZm9ybSwgZGF0YSA9PiB7XHJcbiAgICBhcGkuc2V0UHJvZmlsZUluZm8oZGF0YSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpXHJcbiAgICAgICAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGhhbmRsZUZvcm1FcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gZ2V0IHJlc3BvbnNlIGZyb20gc2VydmVyXCIpXHJcbiAgICAgICAgICAgIHBvcHVwUHJvZmlsZS5yZXNldExvYWRpbmcoKVxyXG4gICAgICAgIH0pXHJcbn0pXHJcblxyXG5jb25zdCBwb3B1cEF2YXRhckVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucHJvZmlsZUF2YXRhckZvcm0sIGxpbmsgPT4ge1xyXG4gICAgYXBpLnNldEF2YXRhcihsaW5rKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihsaW5rLmF2YXRhcilcclxuICAgICAgICAgICAgcG9wdXBBdmF0YXJFZGl0LmNsb3NlKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgaGFuZGxlRm9ybUVycm9yKGVycm9yLCBcIkZhaWxlZCB0byB1cGRhdGVcIilcclxuICAgICAgICAgICAgcG9wdXBBdmF0YXJFZGl0LnJlc2V0TG9hZGluZygpXHJcbiAgICAgICAgfSlcclxuXHJcbn0pXHJcblxyXG5cclxuLy8gRm9ybXMgVmFsaWRhdGlvbnNcclxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnSW5kZXgsIGNhcmRGb3JtKVxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWdJbmRleCwgcHJvZmlsZUZvcm0pXHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZ0luZGV4LCBwcm9maWxlQXZhdGFyRm9ybSlcclxuXHJcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKVxyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxucHJvZmlsZUF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpXHJcblxyXG4vLyNyZWdpb24gaW5pdGlhbGl6ZVBhZ2VcclxuZnVuY3Rpb24gZ2V0SW5pdGlhbERhdGEoKSB7XHJcblxyXG4gICAgUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAoW3VzZXIsIGNhcmRJdGVtc10pID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnVzZXJJZCA9IHVzZXIuX2lkXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGVOYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZVRpdGxlOiB1c2VyLmFib3V0LFxyXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXJcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyT2JqKVxyXG4gICAgICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyT2JqLmF2YXRhcilcclxuXHJcbiAgICAgICAgICAgICAgICBjYXJkc0xvYWRpbmcucmVtb3ZlKClcclxuICAgICAgICAgICAgICAgIGNhcmRzTG9hZGluZyA9IG51bGxcclxuXHJcbiAgICAgICAgICAgICAgICBjYXJkTGlzdFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGNhcmRJdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcjogYWRkQ2FyZFxyXG4gICAgICAgICAgICAgICAgfSwgc2VsZWN0b3JzLmNhcmRMaXN0KVxyXG5cclxuICAgICAgICAgICAgICAgIGNhcmRMaXN0U2VjdGlvbi5yZW5kZXIoKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgaGFuZGxlRm9ybUVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBnZXQgY2FyZCAmIHVzZXIgaW5mb1wiKVxyXG4gICAgICAgIH0pXHJcbn1cclxuXHJcbi8vIFNldCBpbmRleCBpbWFnZXNcclxuZnVuY3Rpb24gaW5pdEluZGV4SW1hZ2VzKCkge1xyXG4gICAgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZUF2YXRhclwiKTtcclxuXHJcbiAgICBjb25zdCBoZWFkZXJMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoZWFkZXJMb2dvXCIpO1xyXG4gICAgY29uc3QgZmF2aWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmF2aWNvblwiKTtcclxuICAgIGNvbnN0IHsgbG9hZGluZ0JsdWVVcmwsIGhlYWRlckxvZ29VUkwsIGZhdmljb25VUkwgfSA9IGluZGV4SW1hZ2VVcmxzXHJcbiAgICBwcm9maWxlQXZhdGFyLnNyYyA9IGxvYWRpbmdCbHVlVXJsO1xyXG4gICAgaGVhZGVyTG9nby5zcmMgPSBoZWFkZXJMb2dvVVJMO1xyXG4gICAgY2FyZHNMb2FkaW5nLnNyYyA9IGxvYWRpbmdCbHVlVXJsXHJcbiAgICBmYXZpY29uLmhyZWYgPSBmYXZpY29uVVJMO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0aWFsaXplUGFnZSgpIHtcclxuICAgIGdldEluaXRpYWxEYXRhKClcclxuICAgIGluaXRJbmRleEltYWdlcygpXHJcbn1cclxuaW5pdGlhbGl6ZVBhZ2UoKVxyXG5cclxuLy8jZW5kcmVnaW9uXHJcblxyXG5cclxuLy8gIFByb2ZpbGUgU2VjdGlvblxyXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coc2VsZWN0b3JzKVxyXG5cclxuICAgIGNvbnN0IHsgcHJvZmlsZU5hbWU6IHVzZXJOYW1lLCBwcm9maWxlVGl0bGU6IHVzZXJKb2IgfSA9IGRhdGFcclxuICAgIHByb2ZpbGVOYW1lLnZhbHVlID0gdXNlck5hbWVcclxuICAgIHByb2ZpbGVUaXRsZS52YWx1ZSA9IHVzZXJKb2JcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRWRpdFByb2ZpbGVCdXR0b25DbGljaygpIHtcclxuICAgIGZpbGxQcm9maWxlRm9ybSh1c2VySW5mby5nZXRVc2VySW5mbygpKVxyXG4gICAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKClcclxuICAgIHBvcHVwUHJvZmlsZS5vcGVuKCk7XHJcbn1cclxuLy8gICNyZWdpb24gQ2FyZCBTZWN0aW9uXHJcblxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLFxyXG4gICAgICAgIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUsXHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgICAgIGhhbmRsZUNhcmREZWxldGUsXHJcbiAgICAgICAgaGFuZGxlQ2FyZExpa2UsXHJcbiAgICAgICAgdXNlckluZm8udXNlcklkKVxyXG4gICAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCh1c2VySW5mby51c2VySWQpXHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDYXJkKGNhcmRFbGVtZW50KSB7XHJcbiAgICBjYXJkTGlzdFNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGNhcmRFbGVtZW50KSlcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhpbWFnZURhdGEpIHtcclxuICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oaW1hZ2VEYXRhKVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkRGVsZXRlKGNhcmQpIHtcclxuICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKClcclxuICAgIHBvcHVwRGVsZXRlQ2FyZC5zZXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmQuY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKVxyXG4gICAgICAgICAgICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRm9ybUVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBkZWxldGUgY2FyZFwiKVxyXG4gICAgICAgICAgICAgICAgcG9wdXBEZWxldGVDYXJkLnJlc2V0TG9hZGluZygpXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkTGlrZShjYXJkKSB7XHJcbiAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcclxuICAgICAgICBhcGkucmVtb3ZlTGlrZShjYXJkLmNhcmRJZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IGNhcmQudG9nZ2xlTGlrZShyZXMubGlrZXMpKVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVGb3JtRXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHJlbW92ZSBMaWtlXCIpXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhcGkuYWRkTGlrZShjYXJkLmNhcmRJZClcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gY2FyZC50b2dnbGVMaWtlKHJlcy5saWtlcykpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUZvcm1FcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gYWRkIGEgbGlrZVwiKVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuLy8jZW5kcmVnaW9uXHJcblxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRm9ybUVycm9yKGVycm9yLCBkZWZhdWx0RXJyb3JUZXh0KSB7XHJcbiAgICBpZiAoZXJyb3IgPT0gXCJcIikgZXJyb3IgPSBkZWZhdWx0RXJyb3JUZXh0XHJcbiAgICBwb3B1cFdpdGhNZXNzYWdlLm9wZW4oeyB0aXRsZTogXCJFcnJvciBvY2N1cnNcIiwgc3VidGV4dDogZXJyb3IgfSwgdHJ1ZSlcclxuXHJcbn1cclxuLy8gRXZlbnQgTGlzdGVuZXJzXHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtaW5mbycpXHJcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUVkaXRQcm9maWxlQnV0dG9uQ2xpY2spO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZCcpXHJcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKVxyXG4gICAgICAgIHBvcHVwQWRkQ2FyZC5vcGVuKClcclxuICAgIH0pXHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVBdmF0YXJFZGl0XCIpXHJcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBwcm9maWxlQXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKVxyXG4gICAgICAgIHBvcHVwQXZhdGFyRWRpdC5vcGVuKClcclxuXHJcbiAgICB9KSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5wcm9maWxlTmFtZSlcclxuICAgICAgICB0aGlzLl9wcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEucHJvZmlsZVRpdGxlKVxyXG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5wcm9maWxlQXZhdGFyKVxyXG5cclxuICAgICAgICB0aGlzLnVzZXJJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwcm9maWxlTmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIHByb2ZpbGVUaXRsZTogdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKHsgcHJvZmlsZU5hbWUsIHByb2ZpbGVUaXRsZSB9KSB7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBwcm9maWxlTmFtZVxyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudCA9IHByb2ZpbGVUaXRsZVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRVc2VyQXZhdGFyKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVOYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgcHJvZmlsZVRpdGxlOiB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhclxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aE1lc3NhZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fbGJsLXRpdGxlXCIpXHJcbiAgICAgICAgdGhpcy5fc3VidGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2xibC1zdWJ0ZXh0XCIpXHJcbiAgICAgICAgdGhpcy5fc3VibWl0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnRuLXN1Ym1pdFwiKVxyXG5cclxuICAgIH1cclxuICAgIG9wZW4oeyB0aXRsZSwgc3VidGV4dCB9LCBpc0Vycm9yID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoaXNFcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLl90aXRsZS5zdHlsZS5jb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1YnRleHQuc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGl0bGVcclxuICAgICAgICB0aGlzLl9zdWJ0ZXh0LnRleHRDb250ZW50ID0gc3VidGV4dFxyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICBzdXBlci5vcGVuKClcclxuICAgIH1cclxuXHJcblxyXG4gICAgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaylcclxuICAgICAgICB0aGlzLmNsb3NlKClcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKVxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheV9faW1nXCIpXHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlfX3RleHRcIilcclxuXHJcbiAgICB9XHJcbiAgICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rXHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lXHJcbiAgICAgICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lXHJcbiAgICAgICAgc3VwZXIub3BlbigpXHJcbiAgICB9XHJcblxyXG59Il0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicCIsIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9mb3JtRWxlbWVudCIsIl9jb25maWciLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJlcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJpbnB1dEVycm9yQ2xhc3MiLCJfaGlkZUlucHV0RXJyb3IiLCJyZW1vdmUiLCJfaGFzSW52YWxpZElucHV0IiwiX2lucHV0TGlzdCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2J1dHRvbkVsZW1lbnQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbGlkYXRpb25NZXNzYWdlIiwiYmluZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJmb3JFYWNoIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiQ2FyZCIsImNhcmREYXRhIiwic2VsZWN0b3IiLCJjYXJkQ2xpY2siLCJjYXJkRGVsZXRlIiwiY2FyZExpa2UiLCJ1c2VySWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUNhcmREZWxldGUiLCJfaGFuZGxlQ2FyZExpa2UiLCJjYXJkT3duZXJJZCIsIm93bmVyIiwiX2lkIiwiY2FyZElkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiX2NhcmRFbGVtZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRMaWtlc0NvdW50IiwiX2NhcmRMaWtlIiwiX2NhcmREZWxldGVFbG0iLCJfY2FyZEltZ0VsbSIsImRhdGEiLCJzcmMiLCJhbHQiLCJyZW1vdmVDYXJkIiwiaXNMaWtlZCIsImxpa2UiLCJ0b2dnbGVMaWtlIiwibGlrZXNSZXNwb25zZSIsImxlbmd0aCIsImNyZWF0ZUNhcmQiLCJjYXJkTmFtZUVsbSIsInNldEF0dHJpYnV0ZSIsImNhcmQiLCJpbmRleEltYWdlVXJscyIsImZvcm1Db25maWdJbmRleCIsIlBvcHVwIiwiZSIsImtleSIsImNsb3NlIiwiZWxtQ2xhc3NMaXN0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJzdG9wUHJvcGFnYXRpb24iLCJfcG9wdXAiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2hhbmRsZUNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiUG9wdXBXaXRoRm9ybSIsInBvcHVwU2VsZWN0b3IiLCJzdWJtaXRIYW5kbGVyIiwic3VwZXIiLCJfc3VibWl0SGFuZGxlciIsIl9mb3JtIiwiX2hhbmRsZVN1Ym1pdCIsIl9zdWJtaXRCdXR0b24iLCJjb25zb2xlIiwibG9nIiwiX3N1Ym1pdEJ1dHRvblRleHRCZWZvcmVMb2FkaW5nIiwiX2dldElucHV0VmFsdWVzIiwiX2lucHV0VmFsdWVzIiwiX2lucHV0c0xpc3QiLCJpbnB1dCIsInZhbHVlIiwic2V0QWN0aW9uIiwiYWN0aW9uIiwiX3NldExvYWRpbmciLCJyZXNldExvYWRpbmciLCJyZXNldCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVyIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldFVzZXJJbmZvIiwiY3VzdG9tRmV0Y2giLCJnZXRJbml0aWFsQ2FyZHMiLCJjcmVhdGVOZXdDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRQcm9maWxlSW5mbyIsInVzZXJPYmoiLCJwcm9maWxlTmFtZSIsImFib3V0IiwicHJvZmlsZVRpdGxlIiwiYXZhdGFyIiwicHJvZmlsZUF2YXRhciIsImRlbGV0ZUNhcmQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsInNldEF2YXRhciIsImF1dGhvcml6YXRpb24iLCJzZWxlY3RvcnMiLCJwcm9maWxlSW5mbyIsInByb2ZpbGVGb3JtIiwiZm9ybSIsInByb2ZpbGVBdmF0YXJJbWFnZSIsIm92ZXJsYXlJbWFnZSIsImNhcmRMaXN0IiwiY2FyZFRlbXBsYXRlIiwiY2FyZEZvcm0iLCJwcm9maWxlQXZhdGFyRm9ybSIsInBvcHVwQ29uZmlybUFjdGlvbiIsInBvcHVwV2l0aE1lc3NhZ2UiLCJ1c2VySW5mbyIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlVGl0bGUiLCJfYXZhdGFyIiwic2V0VXNlckluZm8iLCJnZXRVc2VyQXZhdGFyIiwic2V0VXNlckF2YXRhciIsImNhcmRMaXN0U2VjdGlvbiIsImNhcmRzTG9hZGluZyIsIl9zdWJtaXQiLCJoYW5kbGVDbGljayIsIl90aXRsZSIsIl9zdWJ0ZXh0IiwidGl0bGUiLCJzdWJ0ZXh0Iiwic3R5bGUiLCJjb2xvciIsInBvcHVwRGVsZXRlQ2FyZCIsInBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJwb3B1cEFkZENhcmQiLCJhZGRDYXJkIiwiY2F0Y2giLCJlcnJvciIsImhhbmRsZUZvcm1FcnJvciIsInBvcHVwUHJvZmlsZSIsInBvcHVwQXZhdGFyRWRpdCIsImNhcmRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJwcm9maWxlQXZhdGFyRm9ybVZhbGlkYXRvciIsImNhcmRFbGVtZW50IiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImhhbmRsZUNhcmRMaWtlIiwiaW1hZ2VEYXRhIiwiZGVmYXVsdEVycm9yVGV4dCIsImFsbCIsInVzZXIiLCJjYXJkSXRlbXMiLCJoZWFkZXJMb2dvIiwiZmF2aWNvbiIsImxvYWRpbmdCbHVlVXJsIiwiaGVhZGVyTG9nb1VSTCIsImZhdmljb25VUkwiLCJocmVmIiwiaW5pdEluZGV4SW1hZ2VzIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiZmlsbFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==