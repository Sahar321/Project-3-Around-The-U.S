(()=>{"use strict";var e={966:(e,t,s)=>{e.exports=s.p+"70b86524e51744f35789.ico"},423:(e,t,s)=>{e.exports=s.p+"e7b12b0018c8c0939b17.svg"},286:(e,t,s)=>{e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}s.p="",(()=>{class e{constructor(e,t){this._formElement=t,this._config=e}_showInputError(e,t){const s=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._config.errorClass),s.textContent=t,s.classList.add(this._config.inputErrorClass)}_hideInputError(e){const t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._config.errorClass),t.classList.remove(this._config.inputErrorClass),t.textContent=""}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._config.inactiveButtonClass))}_checkInputValidity(e){e.addEventListener("input",function(){this._toggleButtonState(),e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}.bind(this))}_setEventListeners(){this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector),this._inputList.forEach((e=>{this._checkInputValidity(e)}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._setEventListeners(),this._formElement.addEventListener("submit",(function(e){e.preventDefault()}))}}class t{constructor(e,t,s,r,i,o){this._handleCardClick=s,this._handleCardDelete=r,this._handleCardLike=i,this.userId=o,this.cardOwnerId=e.owner._id,this.cardId=e._id,this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardTemplate=document.querySelector(t).content,this._card=this._cardTemplate.querySelector(".card").cloneNode(!0),this._cardLikesCount=this._card.querySelector(".card__like-counter"),this._cardLike=this._card.querySelector(".card__like")}_setEventListeners(){this._cardLike.addEventListener("click",(()=>this._handleCardLike(this.cardId))),null!=this._cardDeleteElm&&this._cardDeleteElm.addEventListener("click",(()=>this._handleCardDelete(this.cardId))),this._cardImgElm.addEventListener("click",(()=>{const e={link:this._cardImgElm.src,name:this._cardImgElm.alt};this._handleCardClick(e)}))}removeCard(){this._card.remove(),this._card=null}isLiked(){return this._likes.some((e=>e._id===this.userId))}toggleLike(e){this.isLiked()?this._cardLike.classList.remove("btn-like_state_active"):this._cardLike.classList.add("btn-like_state_active"),this._likes=e,this._cardLikesCount.textContent=this._likes.length}createCard(e){const t=this._card.querySelector(".card__name");return this._cardImgElm=this._card.querySelector(".card__img"),this._cardDeleteElm=this._card.querySelector(".card__delete-card"),t.textContent=this._name,this._cardLikesCount.textContent=this._likes.length,this._cardImgElm.setAttribute("src",this._link),this._cardImgElm.setAttribute("alt",this._name),this._likes.forEach((t=>{t._id===e&&this._cardLike.classList.add("btn-like_state_active")})),this.cardOwnerId!=e&&(this._cardDeleteElm.remove(),this._cardDeleteElm=null),this._setEventListeners(),this._card}}const r={loadingBlueUrl:s(423),headerLogoURL:s(286),faviconURL:s(966)},i={inputSelector:".popup__input",submitButtonSelector:".popup__btn-submit",inactiveButtonClass:"popup__btn-submit_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class n{constructor(e){o(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),o(this,"_handleClose",(e=>{const t=e.target.classList;(t.contains("overlay__btn-close")||t.contains("overlay"))&&(e.stopPropagation(),this.close())})),this._popup=document.querySelector(e),this.close=this.close.bind(this)}open(){this._popup.classList.add("overlay_visible"),this.setEventListeners()}close(){this._popup.classList.remove("overlay_visible"),this._popup.removeEventListener("mousedown",this._handleClose),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",this._handleClose),document.addEventListener("keydown",this._handleEscClose)}}class a extends n{constructor(e,t){super(e),this._submitHandler=t,this._form=this._popup.querySelector(".form"),this._handleSubmit=this._handleSubmit.bind(this),this._popupSubmitButton=this._popup.querySelector(".popup__btn-submit")}_getInputValues(){const e={};return[...this._form.querySelectorAll(".popup__input")].forEach((t=>e[t.name]=t.value)),e}setLoadingText(){}setEventListeners(){this._form.addEventListener("submit",this._handleSubmit),super.setEventListeners()}_handleSubmit(e){e.preventDefault();const t=this._popupSubmitButton.textContent;this._popupSubmitButton.textContent="Saving...",this._submitHandler(this._getInputValues()),this._popupSubmitButton.textContent=t,this.close()}close(){this._form.removeEventListener("submit",this._handleSubmit),this._form.reset(),super.close()}}class l{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}render(){this._items.forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}const c=new class{constructor(e){let{baseUrl:t,headers:s}=e;var r,i;i=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject(e.statusText))),(r="customFetch")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,this._baseUrl=t,this._headers={headers:s}}getUserInfo(){return this.customFetch("".concat(this._baseUrl,"/users/me"),this._headers)}getInitialCards(){return this.customFetch("".concat(this._baseUrl,"/cards"),this._headers)}createNewCard(e){return this.customFetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers.headers,body:JSON.stringify(e)})}setProfileInfo(e){const t={name:e.profileName,about:e.profileTitle,avatar:e.profileAvatar};return this.customFetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers.headers,body:JSON.stringify(t)})}deleteCard(e){return this.customFetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers.headers})}addLike(e){return this.customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers.headers})}removeLike(e){return this.customFetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers.headers})}setAvatar(e){return this.customFetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers.headers,body:JSON.stringify(e)})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"89275f46-d96a-420c-9a94-a2948b040a2e","Content-Type":"application/json"}}),h="#formCard",d="#formProfile",u="#formProfileAvatar",_=document.querySelector(d),p=document.querySelector(u),m=document.querySelector(".profile__add"),f=document.querySelector(".profile__edit-info"),v=new class{constructor(e){this._profileName=document.querySelector(e.profileNameSelector),this._profileTitle=document.querySelector(e.profileTitleSelector),this._avatar=document.querySelector(e.profileAvatarSelector),this.userId}getUserInfo(){return{profileName:this._profileName.textContent,profileTitle:this._profileTitle.textContent}}setUserInfo(e){let{profileName:t,profileTitle:s}=e;this._profileName.textContent=t,this._profileTitle.textContent=s}getUserAvatar(){return{profileName:this._profileName.textContent,profileTitle:this._profileTitle.textContent}}setUserAvatar(e){this._avatar.src=e}}({profileNameSelector:".profile__name",profileTitleSelector:".profile__title",profileAvatarSelector:".profile__avatar"}),b=document.querySelector(h);let L,E=document.querySelector("#cardsLoading");const g=new class extends n{constructor(e){super(e),this._popupImage=this._popup.querySelector(".overlay__img")}open(e){let{name:t,link:s}=e;const r=this._popup.querySelector(".overlay__text");this._popupImage.src=s,this._popupImage.alt=t,r.textContent=t,this.setEventListeners(),super.open()}}("#overlayImage"),S=new a(h,(e=>{c.createNewCard(e).then(U)})),y=new a(d,(e=>{c.setProfileInfo(e).then(v.setUserInfo(e))})),C=new a(u,(e=>{c.setAvatar(e).then((()=>{v.setUserAvatar(e.avatar)}))})),k=new e(i,b),I=new e(i,_),q=new e(i,p);function U(e){const s=new t(e,"#card",(e=>{g.open(e)}),(e=>{new a("#popupConfirmAction",(()=>{c.deleteCard(e).then(s.removeCard())})).open()}),(e=>{s.isLiked()?c.removeLike(e).then((e=>s.toggleLike(e.likes))):c.addLike(e).then((e=>s.toggleLike(e.likes)))}),v.userId);L.addItem(s.createCard(v.userId))}I.enableValidation(),k.enableValidation(),q.enableValidation(),Promise.all([c.getUserInfo(),c.getInitialCards()]).then((e=>{let[t,s]=e;v.userId=t._id;const r={profileName:t.name,profileTitle:t.about,avatar:t.avatar};v.setUserInfo(r),v.setUserAvatar(r.avatar),E.remove(),E=null,L=new l({items:s,renderer:U},".cards"),L.render()})),function(){const e=document.querySelector("#profileAvatar"),t=document.querySelector("#headerLogo"),s=document.querySelector("#favicon"),{loadingBlueUrl:i,headerLogoURL:o,faviconURL:n}=r;e.src=i,t.src=o,E.src=i,s.href=n}(),f.addEventListener("click",(function(){!function(e){const t=document.querySelector("#profileName"),s=document.querySelector("#profileTitle"),{profileName:r,profileTitle:i}=e;t.value=r,s.value=i}(v.getUserInfo()),I.resetValidation(),y.open()})),m.addEventListener("click",(function(){k.resetValidation(),S.open()})),document.querySelector("#profileAvatarEdit").addEventListener("click",(()=>C.open()))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixFQUFjekYsU0FBU3RELGNBNUdSLGdCQTZHZmlKLEVBQWUzRixTQUFTdEQsY0E1R1Isa0JBNkdkK0ksWUFBYW9ELEVBQVVsRCxhQUFjbUQsR0FBWXRJLEVBQ3pEaUYsRUFBWXpDLE1BQVE2RixFQUNwQmxELEVBQWEzQyxNQUFROEYsRUFWckJDLENBQWdCckMsRUFBUzNCLGVBQ3pCZ0QsRUFBcUJ4SixrQkFDckJxSixFQUFhNUYsVUEwQ2pCd0UsRUFBcUIzSSxpQkFBaUIsU0FSdEMsV0FDSWlLLEVBQWtCdkosa0JBQ2xCbUosRUFBYTFGLFVBUWpCaEMsU0FBU3RELGNBQWMsc0JBQXNCbUIsaUJBQWlCLFNBQVMsSUFBTWdLLEVBQWdCN0YsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtOC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50XHJcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnXHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpXHJcbiAgICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKGNhcmREYXRhLCBzZWxlY3RvciwgY2FyZENsaWNrLCBjYXJkRGVsZXRlLCBjYXJkTGlrZSwgdXNlcklkKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGNhcmRDbGlja1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gY2FyZERlbGV0ZVxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGNhcmRMaWtlXG5cbiAgICAgICAgdGhpcy51c2VySWQgPSB1c2VySWRcbiAgICAgICAgdGhpcy5jYXJkT3duZXJJZCA9IGNhcmREYXRhLm93bmVyLl9pZFxuICAgICAgICB0aGlzLmNhcmRJZCA9IGNhcmREYXRhLl9pZFxuXG4gICAgICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lXG4gICAgICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rXG4gICAgICAgIHRoaXMuX2xpa2VzID0gY2FyZERhdGEubGlrZXNcbiAgICAgICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuY29udGVudDtcbiAgICAgICAgdGhpcy5fY2FyZCA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICB0aGlzLl9jYXJkTGlrZXNDb3VudCA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIilcbiAgICAgICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKVxuICAgIH1cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzLmNhcmRJZCkpXG4gICAgICAgIGlmICh0aGlzLl9jYXJkRGVsZXRlRWxtICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhcmREZWxldGVFbG0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5jYXJkSWQpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FyZEltZ0VsbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgbGluazogdGhpcy5fY2FyZEltZ0VsbS5zcmMsIG5hbWU6IHRoaXMuX2NhcmRJbWdFbG0uYWx0IH1cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayhkYXRhKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbW92ZUNhcmQoKSB7XG4gICAgICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2NhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlzTGlrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKGxpa2UgPT4gbGlrZS5faWQgPT09IHRoaXMudXNlcklkKVxuICAgIH1cblxuICAgIHRvZ2dsZUxpa2UobGlrZXNSZXNwb25lKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LnJlbW92ZShcImJ0bi1saWtlX3N0YXRlX2FjdGl2ZVwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZChcImJ0bi1saWtlX3N0YXRlX2FjdGl2ZVwiKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpa2VzID0gbGlrZXNSZXNwb25lXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoXG4gICAgfVxuICAgIGNyZWF0ZUNhcmQodXNlcklkKSB7XG4gICAgICAgIGNvbnN0IGNhcmROYW1lRWxtID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX25hbWVcIilcblxuICAgICAgICB0aGlzLl9jYXJkSW1nRWxtID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltZ1wiKVxuICAgICAgICB0aGlzLl9jYXJkRGVsZXRlRWxtID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1jYXJkXCIpXG5cbiAgICAgICAgY2FyZE5hbWVFbG0udGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoXG4gICAgICAgIHRoaXMuX2NhcmRJbWdFbG0uc2V0QXR0cmlidXRlKFwic3JjXCIsIHRoaXMuX2xpbmspXG4gICAgICAgIHRoaXMuX2NhcmRJbWdFbG0uc2V0QXR0cmlidXRlKFwiYWx0XCIsIHRoaXMuX25hbWUpXG5cbiAgICAgICAgdGhpcy5fbGlrZXMuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICAgIGlmIChjYXJkLl9pZCA9PT0gdXNlcklkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZChcImJ0bi1saWtlX3N0YXRlX2FjdGl2ZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZW1vdmUgZGVsZXRlIGJ1dHRvbiBmcm9tIGNhcmRzIG5vdCByZWxhdGVkIHRvIHVzZXJcbiAgICAgICAgaWYgKHRoaXMuY2FyZE93bmVySWQgIT0gdXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkRGVsZXRlRWxtLnJlbW92ZSgpXG4gICAgICAgICAgICB0aGlzLl9jYXJkRGVsZXRlRWxtID0gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkXG4gICAgfVxuXG59IiwiaW1wb3J0IGxvYWRpbmdCbHVlVXJsIGZyb20gXCIuLi8uLi9pbWcvbG9hZGluZy9sb2FkaW5nQmx1ZS5zdmdcIjtcclxuaW1wb3J0IGhlYWRlckxvZ29VUkwgZnJvbSBcIi4uLy4uL2ltZy9sb2dvL2xvZ28uc3ZnXCI7XHJcbmltcG9ydCBmYXZpY29uVVJMIGZyb20gXCIuLi8uLi9pbWcvZmF2aWNvbi9mYXZpY29uLmljb1wiXHJcblxyXG5leHBvcnQgY29uc3QgaW5kZXhJbWFnZVVybHMgPSB7XHJcbiAgICBcImxvYWRpbmdCbHVlVXJsXCI6IGxvYWRpbmdCbHVlVXJsLFxyXG4gICAgXCJoZWFkZXJMb2dvVVJMXCI6IGhlYWRlckxvZ29VUkwsXHJcbiAgICBcImZhdmljb25VUkxcIjogZmF2aWNvblVSTFxyXG59XHJcblxyXG5cclxuLy8gQ29uZmlnc1xyXG5leHBvcnQgY29uc3QgZm9ybUNvbmZpZ0luZGV4ID0ge1xyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J0bi1zdWJtaXRcIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J0bi1zdWJtaXRfaW5hY3RpdmVcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiXHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5X3Zpc2libGVcIilcclxuICAgICAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKClcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJsYXlfdmlzaWJsZVwiKVxyXG4gICAgICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xvc2UpXHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZSkgPT4ge1xyXG5cclxuICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlQ2xvc2UgPSAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsbUNsYXNzTGlzdCA9IGUudGFyZ2V0LmNsYXNzTGlzdDtcclxuICAgICAgICBpZiAoZWxtQ2xhc3NMaXN0LmNvbnRhaW5zKFwib3ZlcmxheV9fYnRuLWNsb3NlXCIpIHx8IGVsbUNsYXNzTGlzdC5jb250YWlucyhcIm92ZXJsYXlcIikpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbG9zZSlcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyXHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKVxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idG4tc3VibWl0XCIpXHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge31cclxuICAgICAgICBjb25zdCBpbnB1dHNMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIildXHJcbiAgICAgICAgaW5wdXRzTGlzdC5mb3JFYWNoKGlucHV0ID0+IGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpXHJcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzXHJcbiAgICB9XHJcblxyXG4gICAgc2V0TG9hZGluZ1RleHQoKSB7XHJcblxyXG4gICAgfVxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdClcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpXHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZVN1Ym1pdChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgY29uc3Qgb2xkVGV4dFBvcHVwU3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24udGV4dENvbnRlbnRcclxuICAgICAgICB0aGlzLl9wb3B1cFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCJcclxuICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCkpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBvbGRUZXh0UG9wdXBTdWJtaXRCdXR0b25cclxuICAgICAgICB0aGlzLmNsb3NlKClcclxuXHJcbiAgICB9XHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KVxyXG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuXHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKVxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3RvcilcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxufSIsImNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsXHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IHsgXCJoZWFkZXJzXCI6IGhlYWRlcnMgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjdXN0b21GZXRjaCA9ICh1cmwsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHRoaXMuX2hlYWRlcnMpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHRoaXMuX2hlYWRlcnMpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU5ld0NhcmQoZGF0YSkge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2V0UHJvZmlsZUluZm8oZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJPYmogPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGRhdGEucHJvZmlsZU5hbWUsXHJcbiAgICAgICAgICAgIGFib3V0OiBkYXRhLnByb2ZpbGVUaXRsZSxcclxuICAgICAgICAgICAgYXZhdGFyOiBkYXRhLnByb2ZpbGVBdmF0YXJcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJPYmopXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLmhlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdmF0YXIobGluaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMuaGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobGluaylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiODkyNzVmNDYtZDk2YS00MjBjLTlhOTQtYTI5NDhiMDQwYTJlXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH1cclxufSk7IiwiLy8gIGltcG9ydHNcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgZm9ybUNvbmZpZ0luZGV4LCBpbmRleEltYWdlVXJscyB9IGZyb20gXCIuLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzXCJcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCJcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanNcIlxyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vc3JjL2NvbXBvbmVudHMvQXBpLmpzXCJcclxuaW1wb3J0ICcuL2luZGV4LmNzcydcclxuXHJcblxyXG5cclxuLy8gIFNlbGVjdG9yc1xyXG5jb25zdCBwcm9maWxlSW5mb1NlbGVjdG9ycyA9IHtcclxuICAgIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgIHByb2ZpbGVUaXRsZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gICAgcHJvZmlsZUF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXJcIlxyXG59XHJcbmNvbnN0IHByb2ZpbGVGb3JtU2VsZWN0b3JzID0ge1xyXG4gICAgcHJvZmlsZU5hbWVTZWxlY3RvcjogXCIjcHJvZmlsZU5hbWVcIixcclxuICAgIHByb2ZpbGVUaXRsZVNlbGVjdG9yOiBcIiNwcm9maWxlVGl0bGVcIixcclxuICAgIHByb2ZpbGVBdmF0YXJJbWFnZVNlbGVjdG9yOiBcIiNhdmF0YXJJbWFnZVwiXHJcbn1cclxuXHJcbmNvbnN0IG92ZXJsYXlJbWFnZVNlbGVjdG9yID0gXCIjb3ZlcmxheUltYWdlXCI7XHJcbmNvbnN0IGNhcmRMaXN0U2VsZWN0b3IgPSBcIi5jYXJkc1wiXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gXCIjY2FyZFwiO1xyXG5jb25zdCBjYXJkRm9ybVNlbGVjdG9yID0gJyNmb3JtQ2FyZCdcclxuY29uc3QgcHJvZmlsZUZvcm1TZWxlY3RvciA9ICcjZm9ybVByb2ZpbGUnXHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJGb3JtU2VsZWN0b3IgPSAnI2Zvcm1Qcm9maWxlQXZhdGFyJ1xyXG5jb25zdCBwb3B1cENvbmZpcm1BY3Rpb25TZWxlY3RvciA9IFwiI3BvcHVwQ29uZmlybUFjdGlvblwiXHJcblxyXG4vLyBQcm9maWxlIHZhcmlhYmxlc1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUZvcm1TZWxlY3RvcilcclxuY29uc3QgcHJvZmlsZUF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBdmF0YXJGb3JtU2VsZWN0b3IpXHJcbmNvbnN0IHByb2ZpbGVBZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZCcpXHJcbmNvbnN0IHByb2ZpbGVFZGl0SW5mb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWluZm8nKVxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlSW5mb1NlbGVjdG9ycylcclxuXHJcbi8vICBDYXJkIHZhcmlhYmxlc1xyXG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZEZvcm1TZWxlY3RvcilcclxubGV0IGNhcmRzTG9hZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZHNMb2FkaW5nXCIpO1xyXG5sZXQgY2FyZExpc3RTZWN0aW9uO1xyXG5cclxuLy8gIFBvcHVwcyBcclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uob3ZlcmxheUltYWdlU2VsZWN0b3IpXHJcblxyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShjYXJkRm9ybVNlbGVjdG9yLCBkYXRhID0+IHtcclxuICAgIGFwaS5jcmVhdGVOZXdDYXJkKGRhdGEpLnRoZW4oYWRkQ2FyZClcclxufSlcclxuXHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHByb2ZpbGVGb3JtU2VsZWN0b3IsIGRhdGEgPT4ge1xyXG4gICAgYXBpLnNldFByb2ZpbGVJbmZvKGRhdGEpLnRoZW4odXNlckluZm8uc2V0VXNlckluZm8oZGF0YSkpXHJcbn0pXHJcblxyXG5jb25zdCBwb3B1cEF2YXRhckVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShwcm9maWxlQXZhdGFyRm9ybVNlbGVjdG9yLCBsaW5rID0+IHtcclxuXHJcbiAgICBhcGkuc2V0QXZhdGFyKGxpbmspLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIobGluay5hdmF0YXIpXHJcbiAgICB9KVxyXG59KVxyXG5cclxuXHJcbi8vIEZvcm1zIFZhbGlkYXRpb25zXHJcbmNvbnN0IGNhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZ0luZGV4LCBjYXJkRm9ybSlcclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnSW5kZXgsIHByb2ZpbGVGb3JtKVxyXG5jb25zdCBwcm9maWxlQXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWdJbmRleCwgcHJvZmlsZUF2YXRhckZvcm0pXHJcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKVxyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxucHJvZmlsZUF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpXHJcblxyXG4vLyNyZWdpb24gaW5pdGlhbGl6ZVBhZ2VcclxuaW5pdGlhbGl6ZVBhZ2UoKVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZVBhZ2UoKSB7XHJcbiAgICBnZXRJbml0aWFsRGF0YSgpXHJcbiAgICBpbml0SW5kZXhJbWFnZXMoKVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJbml0aWFsRGF0YSgpIHtcclxuICAgIFByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSkudGhlbihcclxuICAgICAgICAoW3VzZXIsIGNhcmRzXSkgPT4ge1xyXG4gICAgICAgICAgICB1c2VySW5mby51c2VySWQgPSB1c2VyLl9pZFxyXG4gICAgICAgICAgICBjb25zdCB1c2VyT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZU5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgIHByb2ZpbGVUaXRsZTogdXNlci5hYm91dCxcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXJcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlck9iailcclxuICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyT2JqLmF2YXRhcilcclxuXHJcbiAgICAgICAgICAgIGNhcmRzTG9hZGluZy5yZW1vdmUoKVxyXG4gICAgICAgICAgICBjYXJkc0xvYWRpbmcgPSBudWxsXHJcblxyXG4gICAgICAgICAgICBjYXJkTGlzdFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgICAgICAgICAgICBpdGVtczogY2FyZHMsXHJcbiAgICAgICAgICAgICAgICByZW5kZXJlcjogYWRkQ2FyZFxyXG4gICAgICAgICAgICB9LCBjYXJkTGlzdFNlbGVjdG9yKVxyXG5cclxuICAgICAgICAgICAgY2FyZExpc3RTZWN0aW9uLnJlbmRlcigpXHJcbiAgICAgICAgfSlcclxufVxyXG5cclxuLy8gU2V0IGluZGV4IGltYWdlc1xyXG5mdW5jdGlvbiBpbml0SW5kZXhJbWFnZXMoKSB7XHJcbiAgICBjb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlQXZhdGFyXCIpO1xyXG5cclxuICAgIGNvbnN0IGhlYWRlckxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hlYWRlckxvZ29cIik7XHJcbiAgICBjb25zdCBmYXZpY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmYXZpY29uXCIpO1xyXG4gICAgY29uc3QgeyBsb2FkaW5nQmx1ZVVybCwgaGVhZGVyTG9nb1VSTCwgZmF2aWNvblVSTCB9ID0gaW5kZXhJbWFnZVVybHNcclxuICAgIHByb2ZpbGVBdmF0YXIuc3JjID0gbG9hZGluZ0JsdWVVcmw7XHJcbiAgICBoZWFkZXJMb2dvLnNyYyA9IGhlYWRlckxvZ29VUkw7XHJcbiAgICBjYXJkc0xvYWRpbmcuc3JjID0gbG9hZGluZ0JsdWVVcmxcclxuICAgIGZhdmljb24uaHJlZiA9IGZhdmljb25VUkw7XHJcbn1cclxuLy8jZW5kcmVnaW9uXHJcblxyXG5cclxuLy8gIFByb2ZpbGUgU2VjdGlvblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbkNsaWNrKCkge1xyXG4gICAgZmlsbFByb2ZpbGVGb3JtKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpXHJcbiAgICBwcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKVxyXG4gICAgcG9wdXBQcm9maWxlLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbFByb2ZpbGVGb3JtKGRhdGEpIHtcclxuICAgIGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlRm9ybVNlbGVjdG9ycy5wcm9maWxlTmFtZVNlbGVjdG9yKVxyXG4gICAgY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlRm9ybVNlbGVjdG9ycy5wcm9maWxlVGl0bGVTZWxlY3RvcilcclxuICAgIGNvbnN0IHsgcHJvZmlsZU5hbWU6IHVzZXJOYW1lLCBwcm9maWxlVGl0bGU6IHVzZXJKb2IgfSA9IGRhdGFcclxuICAgIHByb2ZpbGVOYW1lLnZhbHVlID0gdXNlck5hbWVcclxuICAgIHByb2ZpbGVUaXRsZS52YWx1ZSA9IHVzZXJKb2JcclxufVxyXG5cclxuLy8gICNyZWdpb24gQ2FyZCBTZWN0aW9uXHJcbmZ1bmN0aW9uIGFkZENhcmQoY2FyZERhdGEpIHtcclxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICAgICAgKGltYWdlRGF0YSkgPT4geyAvLyBoYW5kbGUgIHBvcHVwIGltYWdlXHJcbiAgICAgICAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oaW1hZ2VEYXRhKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKGNhcmRJRCkgPT4geyAvLyBoYW5kbGUgZGVsZXRlIFxyXG4gICAgICAgICAgICBjb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cENvbmZpcm1BY3Rpb25TZWxlY3RvciwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY2FyZElEKS50aGVuKGNhcmQucmVtb3ZlQ2FyZCgpKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBwb3B1cERlbGV0ZUNhcmQub3BlbigpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAoY2FyZElEKSA9PiB7IC8vIGhhbmRsZSBsaWtlXHJcbiAgICAgICAgICAgIGlmIChjYXJkLmlzTGlrZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgYXBpLnJlbW92ZUxpa2UoY2FyZElEKS50aGVuKHJlcyA9PiBjYXJkLnRvZ2dsZUxpa2UocmVzLmxpa2VzKSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwaS5hZGRMaWtlKGNhcmRJRCkudGhlbigocmVzKSA9PiBjYXJkLnRvZ2dsZUxpa2UocmVzLmxpa2VzKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHVzZXJJbmZvLnVzZXJJZClcclxuXHJcbiAgICBjYXJkTGlzdFNlY3Rpb24uYWRkSXRlbShjYXJkLmNyZWF0ZUNhcmQodXNlckluZm8udXNlcklkKSlcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEJ1dHRvbkNsaWNrKCkge1xyXG4gICAgY2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKClcclxuICAgIHBvcHVwQWRkQ2FyZC5vcGVuKClcclxufVxyXG4vLyNlbmRyZWdpb24gXHJcblxyXG4vLyBFdmVudCBMaXN0ZW5lcnNcclxucHJvZmlsZUVkaXRJbmZvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbkNsaWNrKTtcclxucHJvZmlsZUFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUFkZENhcmRCdXR0b25DbGljaylcclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZUF2YXRhckVkaXRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHBvcHVwQXZhdGFyRWRpdC5vcGVuKCkpIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnByb2ZpbGVOYW1lU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnByb2ZpbGVUaXRsZVNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5wcm9maWxlQXZhdGFyU2VsZWN0b3IpXHJcblxyXG4gICAgICAgIHRoaXMudXNlcklkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVOYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgcHJvZmlsZVRpdGxlOiB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8oeyBwcm9maWxlTmFtZSwgcHJvZmlsZVRpdGxlIH0pIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHByb2ZpbGVOYW1lXHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gcHJvZmlsZVRpdGxlXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFVzZXJBdmF0YXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJvZmlsZU5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBwcm9maWxlVGl0bGU6IHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xyXG5cclxuICAgICAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlfX2ltZ1wiKVxyXG5cclxuICAgIH1cclxuICAgIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheV9fdGV4dFwiKVxyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGlua1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZVxyXG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gbmFtZVxyXG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICBzdXBlci5vcGVuKClcclxuICAgIH1cclxuXHJcbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2Zvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsImlucHV0RXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRMaXN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfYnV0dG9uRWxlbWVudCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJiaW5kIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJDYXJkIiwiY2FyZERhdGEiLCJzZWxlY3RvciIsImNhcmRDbGljayIsImNhcmREZWxldGUiLCJjYXJkTGlrZSIsInVzZXJJZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsImNhcmRPd25lcklkIiwib3duZXIiLCJfaWQiLCJjYXJkSWQiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9jYXJkVGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJfY2FyZCIsImNsb25lTm9kZSIsIl9jYXJkTGlrZXNDb3VudCIsIl9jYXJkTGlrZSIsIl9jYXJkRGVsZXRlRWxtIiwiX2NhcmRJbWdFbG0iLCJkYXRhIiwic3JjIiwiYWx0IiwicmVtb3ZlQ2FyZCIsImlzTGlrZWQiLCJsaWtlIiwidG9nZ2xlTGlrZSIsImxpa2VzUmVzcG9uZSIsImxlbmd0aCIsImNyZWF0ZUNhcmQiLCJjYXJkTmFtZUVsbSIsInNldEF0dHJpYnV0ZSIsImNhcmQiLCJpbmRleEltYWdlVXJscyIsImZvcm1Db25maWdJbmRleCIsIlBvcHVwIiwiZSIsImtleSIsImNsb3NlIiwiZWxtQ2xhc3NMaXN0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJzdG9wUHJvcGFnYXRpb24iLCJfcG9wdXAiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2hhbmRsZUNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiUG9wdXBXaXRoRm9ybSIsInBvcHVwU2VsZWN0b3IiLCJzdWJtaXRIYW5kbGVyIiwic3VwZXIiLCJfc3VibWl0SGFuZGxlciIsIl9mb3JtIiwiX2hhbmRsZVN1Ym1pdCIsIl9wb3B1cFN1Ym1pdEJ1dHRvbiIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldExvYWRpbmdUZXh0Iiwib2xkVGV4dFBvcHVwU3VibWl0QnV0dG9uIiwicmVzZXQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlciIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsInVybCIsIm9wdGlvbnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRVc2VySW5mbyIsImN1c3RvbUZldGNoIiwiZ2V0SW5pdGlhbENhcmRzIiwiY3JlYXRlTmV3Q2FyZCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0UHJvZmlsZUluZm8iLCJ1c2VyT2JqIiwicHJvZmlsZU5hbWUiLCJhYm91dCIsInByb2ZpbGVUaXRsZSIsImF2YXRhciIsInByb2ZpbGVBdmF0YXIiLCJkZWxldGVDYXJkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJzZXRBdmF0YXIiLCJhdXRob3JpemF0aW9uIiwiY2FyZEZvcm1TZWxlY3RvciIsInByb2ZpbGVGb3JtU2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyRm9ybVNlbGVjdG9yIiwicHJvZmlsZUZvcm0iLCJwcm9maWxlQXZhdGFyRm9ybSIsInByb2ZpbGVBZGRDYXJkQnV0dG9uIiwicHJvZmlsZUVkaXRJbmZvQnV0dG9uIiwidXNlckluZm8iLCJfcHJvZmlsZU5hbWUiLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwiX3Byb2ZpbGVUaXRsZSIsInByb2ZpbGVUaXRsZVNlbGVjdG9yIiwiX2F2YXRhciIsInByb2ZpbGVBdmF0YXJTZWxlY3RvciIsInNldFVzZXJJbmZvIiwiZ2V0VXNlckF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJjYXJkRm9ybSIsImNhcmRMaXN0U2VjdGlvbiIsImNhcmRzTG9hZGluZyIsInBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJ0aXRsZSIsInBvcHVwQWRkQ2FyZCIsImFkZENhcmQiLCJwb3B1cFByb2ZpbGUiLCJwb3B1cEF2YXRhckVkaXQiLCJjYXJkRm9ybVZhbGlkYXRvciIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUF2YXRhckZvcm1WYWxpZGF0b3IiLCJpbWFnZURhdGEiLCJjYXJkSUQiLCJhbGwiLCJ1c2VyIiwiY2FyZHMiLCJoZWFkZXJMb2dvIiwiZmF2aWNvbiIsImxvYWRpbmdCbHVlVXJsIiwiaGVhZGVyTG9nb1VSTCIsImZhdmljb25VUkwiLCJocmVmIiwiaW5pdEluZGV4SW1hZ2VzIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiZmlsbFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==